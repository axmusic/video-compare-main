/*!
* UE Video Comparison - v0.1.11 
* Â© Unlimited Elements for Elementor, Adarsh Pawar.
*/
!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document);var UEVideoCompare=function(){"use strict";class e{constructor(e){this.container=e,this.videos=[],this.wrappers=[],this.readyStates=[],this.captions=[],this.playMode=this.container.getAttribute("data-play-mode")||"auto",this.viewportPause="true"===this.container.getAttribute("data-viewport-pause"),this.hasInteracted=!1,this.playModeSetup=!1,this.viewportObserverSetup=!1,this.isIntersecting=!0,this.loadingElement=document.createElement("div"),this.loadingElement.textContent="Loading",this.loadingElement.style.position="absolute",this.loadingElement.style.top="50%",this.loadingElement.style.left="50%",this.loadingElement.style.transform="translate(-50%, -50%)",this.loadingElement.style.backgroundColor="rgba(0, 0, 0, 0.7)",this.loadingElement.style.color="white",this.loadingElement.style.padding="10px 20px",this.loadingElement.style.borderRadius="4px",this.loadingElement.style.zIndex="4",this.container.appendChild(this.loadingElement),this.loadingDots=0,this.loadingInterval=setInterval(()=>this.animateLoading(),500)}animateLoading(){this.loadingElement&&(this.loadingDots=(this.loadingDots+1)%4,this.loadingElement.textContent="Loading"+".".repeat(this.loadingDots))}addVideo(e){const t=this.videos.length;this.videos.push(e),this.readyStates.push(!1),e.pause(),e.currentTime=0,e.style.visibility="hidden",e.style.opacity="0",e.addEventListener("loadstart",()=>this.resetReadyStates()),e.addEventListener("canplay",()=>{this.readyStates[t]=!0,this.checkAndPlay()}),setTimeout(()=>{this.readyStates[t]||(this.readyStates[t]=!0,this.checkAndPlay())},5e3)}addCaption(e,t,i){const s=e.getAttribute("uevc-caption");if(s){const n=document.createElement("span");n.textContent=s,n.classList.add("uevc-caption"),i&&n.classList.add(i),t.appendChild(n),this.captions.push(n);new MutationObserver(t=>{t.forEach(t=>{if("attributes"===t.type&&"uevc-caption"===t.attributeName){const t=e.getAttribute("uevc-caption");n.textContent=t}})}).observe(e,{attributes:!0,attributeFilter:["uevc-caption"]})}}addVideoWithWrapper(e,t){const i=document.createElement("div");e.parentNode.insertBefore(i,e),i.appendChild(e),this.addVideo(e),this.wrappers.push(i),i.classList.add("video-wrapper"),this.addCaption(e,i,t)}resetReadyStates(){this.readyStates.fill(!1),this.videos.forEach(e=>e.pause()),this.videos.forEach(e=>e.currentTime=0),this.loadingElement.style.display="block",this.loadingInterval||(this.loadingInterval=setInterval(()=>this.animateLoading(),500))}checkAndPlay(){this.readyStates.every(e=>e)&&(this.videos.forEach(e=>{e.style.visibility="visible",e.style.opacity="1"}),this.captions.forEach(e=>{e.style.visibility="visible",e.style.opacity="1"}),this.loadingElement.style.display="none",clearInterval(this.loadingInterval),this.loadingInterval=null,"auto"===this.playMode&&(this.viewportPause&&!this.isIntersecting||this.videos.forEach(e=>e.play())))}setupViewportObserver(){if(this.viewportObserverSetup)return;if(this.viewportObserverSetup=!0,!window.IntersectionObserver)return;new IntersectionObserver(e=>{e.forEach(e=>{this.isIntersecting=e.isIntersecting,this.viewportPause&&(this.isIntersecting?("auto"===this.playMode||"interaction"===this.playMode&&this.hasInteracted)&&this.videos.forEach(e=>e.play()):this.videos.forEach(e=>e.pause()))})},{threshold:0}).observe(this.container)}setupPlayMode(){if(!this.playModeSetup)if(this.playModeSetup=!0,"interaction"===this.playMode){const e=()=>{this.hasInteracted||(this.hasInteracted=!0,this.videos.forEach(e=>e.play()),this.container.removeEventListener("mouseenter",e),this.container.removeEventListener("touchstart",e),this.container.removeEventListener("click",e))};this.container.addEventListener("mouseenter",e),this.container.addEventListener("touchstart",e,{passive:!0}),this.container.addEventListener("click",e)}else if("manual"===this.playMode){const e=()=>{this.videos.forEach(e=>e.play())},t=()=>{this.videos.forEach(e=>e.pause())};this.container.addEventListener("mouseenter",e),this.container.addEventListener("mouseleave",t),this.container.addEventListener("touchstart",e,{passive:!0}),this.container.addEventListener("touchend",t,{passive:!0})}}syncVideos(e=0){const t=this.videos[e];t.addEventListener("play",()=>{this.videos.forEach((t,i)=>{i!==e&&t.paused&&t.play()})}),t.addEventListener("pause",()=>{this.videos.forEach((t,i)=>{i===e||t.paused||t.pause()})}),t.addEventListener("seeking",()=>{this.videos.forEach((i,s)=>{s!==e&&(i.currentTime=t.currentTime)})}),t.addEventListener("timeupdate",()=>{this.videos.forEach((i,s)=>{s!==e&&Math.abs(i.currentTime-t.currentTime)>.1&&(i.currentTime=t.currentTime)})})}}class t extends e{constructor(e){super(e);const t=e.getElementsByTagName("video")[1],i=e.getElementsByTagName("video")[0];this.addVideoWithWrapper(t,"ue-after"),this.addVideoWithWrapper(i,"ue-before"),this.setupWiper(),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver()}setupWiper(){const e=this.videos[0],t=this.videos[1],i=this.wrappers[0],s=this.wrappers[1],n=document.createElement("div");n.classList.add("uevc-wiper-clipper-outer");const a=document.createElement("div");a.classList.add("uevc-wiper-clipper"),n.appendChild(a),s.parentNode.insertBefore(n,s),a.appendChild(s),this.video2Clipped=!0,this.animationTriggered=!1;const o=parseFloat(this.container.getAttribute("data-duration"))||1;e.addEventListener("loadedmetadata",()=>{this.container.style.aspectRatio=e.videoWidth/e.videoHeight+" / 1"}),e.addEventListener("timeupdate",()=>{!this.animationTriggered&&t.currentTime>o&&(console.log("triggering animation"),requestAnimationFrame(()=>{n.style.backgroundColor="white"}),n.getBoundingClientRect(),this.startAnimation(n),this.startAnimation(a),this.animationTriggered=!0)}),e.addEventListener("seeked",()=>{if(e.currentTime<o){if(this.animationTriggered=!1,a.style.clipPath=null,n.style.clipPath=null,this.video2Clipped){const e=i;i.parentNode.insertBefore(s,i),a.appendChild(e)}else{const e=s;s.parentNode.insertBefore(i,s),a.appendChild(e)}this.video2Clipped=!this.video2Clipped,requestAnimationFrame(()=>{n.style.backgroundColor=null})}}),e.addEventListener("loadstart",()=>{if(this.animationTriggered=!1,a.style.clipPath=null,n.style.clipPath=null,t.parentNode===this.videoContainer){const e=s;s.parentNode.insertBefore(i,s),a.appendChild(e),this.video2Clipped=!0,this.animationTriggered=!1}})}startAnimation(e){const t=Date.now(),i=parseInt(this.container.getAttribute("data-transition-duration"))||1e3,s=()=>{const n=Date.now()-t,a=Math.min(1,n/i),o=`polygon(\n                0% ${200-200*a+.1}%,\n                ${200-200*a+.1}% 0%,\n                0% 0%\n            )`;e.style.clipPath=o,a<1&&requestAnimationFrame(s)};requestAnimationFrame(s)}}class i extends e{constructor(e){super(e);const t=e.getElementsByTagName("video")[1],i=e.getElementsByTagName("video")[0];this.addVideoWithWrapper(t,"ue-after"),this.addVideoWithWrapper(i,"ue-before"),this.setupSlider(),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver()}setupSlider(){const e=this.wrappers[1],t=document.createElement("div");t.classList.add("uevc-slider-clipper"),e.parentNode.insertBefore(t,e),t.appendChild(e);const i=this.videos[0];i.addEventListener("loadedmetadata",()=>{this.container.style.aspectRatio=i.videoWidth/i.videoHeight+" / 1"});const s=this.container.getAttribute("data-trigger"),n=this.container.getAttribute("data-direction"),a=this.container.getAttribute("data-handle-type");"vertical"===n&&this.container.classList.add("vertical");const o=document.createElement("span");o.classList.add("uevc-slider-line"),this.container.appendChild(o);let r=null;if(a){if(r=document.createElement("div"),r.classList.add("uevc-handle",a),"arrows"===a){const e=document.createElement("span");e.classList.add("uevc-arrow-left");const t=document.createElement("span");t.classList.add("uevc-arrow-right"),r.appendChild(e),r.appendChild(t)}else if("icon"===a){const e=this.container.querySelector(".uevc-handle-icon");e&&r.appendChild(e)}this.container.appendChild(r)}const d=i=>{i=Math.max(0,Math.min(100,i)),"vertical"===n?(t.style.height=i+"%",e.style.height=(0===i?100:100/i*100)+"%",o.style.top=i+"%",r&&(r.style.top=i+"%")):(t.style.width=i+"%",e.style.width=(0===i?100:100/i*100)+"%",o.style.left=i+"%",r&&(r.style.left=i+"%"))},l=parseFloat(this.container.getAttribute("data-initial"))||50;d(l);const c=e=>{const t=this.container.getBoundingClientRect(),i=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;let a;a="vertical"===n?(s-t.top)/this.container.offsetHeight*100:(i-t.left)/this.container.offsetWidth*100,d(a)};if("click"===s){const e=e=>{e.preventDefault(),c(e)},t=()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};this.container.addEventListener("mousedown",i=>{i.preventDefault(),c(i),window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)})}else this.container.addEventListener("mousemove",c,!1),this.container.addEventListener("touchstart",e=>{e.preventDefault(),c(e)},{passive:!1}),this.container.addEventListener("touchmove",e=>{e.preventDefault(),c(e)},{passive:!1});"click"===s&&(this.container.addEventListener("touchstart",e=>{e.preventDefault(),c(e)},{passive:!1}),this.container.addEventListener("touchmove",e=>{e.preventDefault(),c(e)},{passive:!1}))}}class s extends i{constructor(e){super(e);const t=e.getElementsByTagName("video")[2];this.addVideo(t),this.addCaption(t,this.wrappers[0],"ue-overlay"),this.wrappers[0].appendChild(t),t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.zIndex="4",this.syncVideos(0)}}class n extends e{constructor(e){super(e);const t=e.getElementsByTagName("video")[0],i=e.getElementsByTagName("video")[1];this.initialize(t,i)}initialize(e,t){this.addVideoWithWrapper(e,"ue-before"),this.addVideoWithWrapper(t,"ue-after"),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver(),e.addEventListener("loadedmetadata",()=>{this.container.style.aspectRatio=2*e.videoWidth/e.videoHeight+" / 1"})}}class a extends e{constructor(e){super(e);const t=e.getElementsByTagName("video");this.initialize(t)}initialize(e){for(const t of e)this.addVideoWithWrapper(t);this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver(),e[0].addEventListener("loadedmetadata",()=>{this.container.style.aspectRatio=2*e[0].videoWidth/(2*e[0].videoHeight)+" / 1"})}}function o(){const e=()=>{const e=document.getElementsByClassName("uevc-slider-container");for(let t=0;t<e.length;t++){const s=e[t];s&&!s.hasAttribute("data-uevc-initialized")&&(s.setAttribute("data-uevc-initialized","true"),new i(s))}const o=document.getElementsByClassName("uevc-wiper-container");for(let e=0;e<o.length;e++){const i=o[e];i&&!i.hasAttribute("data-uevc-initialized")&&(i.setAttribute("data-uevc-initialized","true"),new t(i))}const r=document.getElementsByClassName("uevc-side-by-side-container");for(let e=0;e<r.length;e++){const t=r[e];t&&!t.hasAttribute("data-uevc-initialized")&&(t.setAttribute("data-uevc-initialized","true"),new n(t))}const d=document.getElementsByClassName("uevc-three-video-comparison-container");for(let e=0;e<d.length;e++){const t=d[e];t&&!t.hasAttribute("data-uevc-initialized")&&(t.setAttribute("data-uevc-initialized","true"),new s(t))}const l=document.getElementsByClassName("uevc-four-grid-container");for(let e=0;e<l.length;e++){const t=l[e];t&&!t.hasAttribute("data-uevc-initialized")&&(t.setAttribute("data-uevc-initialized","true"),new a(t))}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}return o(),o}();
