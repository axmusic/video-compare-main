/*! UE Video Comparison - v0.0.7 */
!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document);var UEVideoCompare=function(){"use strict";var e=[],t=[];!function(n,i){if(n&&"undefined"!=typeof document){var o,s=!0===i.prepend?"prepend":"append",a=!0===i.singleTag,r="string"==typeof i.container?document.querySelector(i.container):document.getElementsByTagName("head")[0];if(a){var d=e.indexOf(r);-1===d&&(d=e.push(r)-1,t[d]={}),o=t[d]&&t[d][s]?t[d][s]:t[d][s]=c()}else o=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(document.createTextNode(n))}function c(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),i.attributes)for(var t=Object.keys(i.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],i.attributes[t[n]]);var o="prepend"===s?"afterbegin":"beforeend";return r.insertAdjacentElement(o,e),e}}('.video-wrapper video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n}\n\n.uevc-slider-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.uevc-slider-container>.video-wrapper {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    max-width: none;\n}\n\n.uevc-slider-container .video-wrapper video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    max-width: none;\n}\n\n.uevc-slider-container>.uevc-slider-clipper {\n    width: 50%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.uevc-slider-container>.uevc-slider-clipper>.video-wrapper {\n    width: 200%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n/* Vertical Slider Styles */\n[class*="uevc-"][class*="-container"].vertical>.uevc-slider-clipper {\n    width: 100%;\n    height: 50%;\n    top: 0;\n    bottom: auto;\n    left: 0;\n    right: 0;\n}\n\n[class*="uevc-"][class*="-container"].vertical>.uevc-slider-clipper>.video-wrapper {\n    width: 100%;\n    height: 200%;\n    top: 0;\n    left: 0;\n}\n\n.uevc-wiper-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.uevc-wiper-container>.video-wrapper {\n    width: 99%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 99%;\n}\n\n.uevc-wiper-container>.uevc-wiper-clipper-outer {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.uevc-wiper-container>.uevc-wiper-clipper-outer>.uevc-wiper-clipper {\n    width: 99%;\n    /* leave some space for border */\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 99%;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.uevc-wiper-container .video-wrapper video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    max-width: none;\n}\n\n.uevc-wiper-container>.uevc-wiper-clipper-outer>.uevc-wiper-clipper>.video-wrapper>video {\n    width: 100%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n.uevc-three-video-comparison-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.uevc-three-video-comparison-container>.video-wrapper {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    max-width: none;\n}\n\n.uevc-three-video-comparison-container>.uevc-slider-clipper {\n    width: 50%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.uevc-three-video-comparison-container>.uevc-slider-clipper>.video-wrapper {\n    width: 200%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n.uevc-three-video-comparison-container .video-wrapper video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    max-width: none;\n}\n\n.uevc-side-by-side-container {\n    display: flex;\n    position: relative;\n    justify-content: center;\n    gap: 0px;\n}\n\n.uevc-side-by-side-container>.video-wrapper {\n    width: 50%;\n    max-width: 50%;\n    height: auto;\n    position: relative;\n}\n\n.uevc-side-by-side-container>.video-wrapper>video {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.uevc-four-grid-container>.video-wrapper {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.uevc-four-grid-container>.video-wrapper>video {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.uevc-four-grid-container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr 1fr;\n    gap: 0;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n}\n\n/* Caption Styles */\n.uevc-caption {\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n    background-color: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 5px 10px;\n    border-radius: 4px;\n    min-height: fit-content;\n    line-height: 1.4;\n    word-break: break-word;\n    max-width: 80%;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n}\n\n.uevc-caption.ue-before {\n    right: auto;\n    left: 10px;\n}\n\n.uevc-caption.ue-overlay {\n    top: 5px;\n    bottom: auto;\n    right: 5px;\n    z-index: 5;\n    font-size: 10px;\n    padding: 2px 4px;\n    border-radius: 2px;\n}\n\n/* Vertical mode caption positioning */\n.uevc-slider-container.vertical .uevc-caption.ue-before {\n    left: auto;\n    right: 10px;\n    bottom: auto;\n    top: 10px;\n}\n\n.uevc-slider-container.vertical .uevc-caption.ue-after {\n    bottom: 10px;\n    top: auto;\n}\n\n/* Slider Line */\n.uevc-slider-line {\n    position: absolute;\n    background-color: white;\n    z-index: 4;\n    pointer-events: none;\n}\n\n.uevc-slider-container:not(.vertical) .uevc-slider-line,\n.uevc-three-video-comparison-container:not(.vertical) .uevc-slider-line {\n    width: 2px;\n    height: 100%;\n    top: 0;\n    transform: translateX(-50%);\n}\n\n[class*="uevc-"][class*="-container"].vertical .uevc-slider-line {\n    width: 100%;\n    height: 2px;\n    left: 0;\n    transform: translateY(-50%);\n}\n\n/* Slider Handle */\n.uevc-handle {\n    position: absolute;\n    z-index: 5;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    pointer-events: none;\n    transform: translate(-50%, -50%);\n}\n\n.uevc-slider-container:not(.vertical) .uevc-handle,\n.uevc-three-video-comparison-container:not(.vertical) .uevc-handle {\n    top: 50%;\n}\n\n[class*="uevc-"][class*="-container"].vertical .uevc-handle {\n    left: 50%;\n}\n\n/* Handle Types */\n.uevc-handle.bar {\n    width: 8px;\n    height: 24px;\n    background-color: white;\n    border-radius: 2px;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n}\n\n.uevc-handle.arrows {\n    width: 30px;\n    height: 30px;\n}\n\n.uevc-arrow-left,\n.uevc-arrow-right {\n    width: 0;\n    height: 0;\n    border-style: solid;\n    position: absolute;\n}\n\n.uevc-slider-container:not(.vertical) .uevc-arrow-left,\n.uevc-three-video-comparison-container:not(.vertical) .uevc-arrow-left {\n    border-width: 6px 8px 6px 0;\n    border-color: transparent white transparent transparent;\n    left: -12px;\n}\n\n.uevc-slider-container:not(.vertical) .uevc-arrow-right,\n.uevc-three-video-comparison-container:not(.vertical) .uevc-arrow-right {\n    border-width: 6px 0 6px 8px;\n    border-color: transparent transparent transparent white;\n    right: -12px;\n}\n\n[class*="uevc-"][class*="-container"].vertical .uevc-arrow-left {\n    /* Top arrow */\n    border-width: 0 6px 8px 6px;\n    border-color: transparent transparent white transparent;\n    top: -12px;\n}\n\n[class*="uevc-"][class*="-container"].vertical .uevc-arrow-right {\n    /* Bottom arrow */\n    border-width: 8px 6px 0 6px;\n    border-color: white transparent transparent transparent;\n    bottom: -12px;\n}\n\n.uevc-handle.icon {\n    width: 40px;\n    height: 40px;\n    background-color: white;\n    border-radius: 50%;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n    color: #333;\n}\n\n.uevc-handle-icon {\n    display: none;\n    /* Hidden by default in container, library will move it */\n}\n\n.uevc-handle.icon .uevc-handle-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}',{});class n{constructor(e){this.container=e,this.videos=[],this.wrappers=[],this.readyStates=[],this.captions=[],this.playMode=this.container.getAttribute("data-play-mode")||"auto",this.viewportPause="true"===this.container.getAttribute("data-viewport-pause"),this.hasInteracted=!1,this.playModeSetup=!1,this.viewportObserverSetup=!1,this.isIntersecting=!0,this.loadingElement=document.createElement("div"),this.loadingElement.textContent="Loading",this.loadingElement.style.position="absolute",this.loadingElement.style.top="50%",this.loadingElement.style.left="50%",this.loadingElement.style.transform="translate(-50%, -50%)",this.loadingElement.style.backgroundColor="rgba(0, 0, 0, 0.7)",this.loadingElement.style.color="white",this.loadingElement.style.padding="10px 20px",this.loadingElement.style.borderRadius="4px",this.loadingElement.style.zIndex="4",this.container.appendChild(this.loadingElement),this.loadingDots=0,this.loadingInterval=setInterval((()=>this.animateLoading()),500)}animateLoading(){this.loadingElement&&(this.loadingDots=(this.loadingDots+1)%4,this.loadingElement.textContent="Loading"+".".repeat(this.loadingDots))}addVideo(e){const t=this.videos.length;this.videos.push(e),this.readyStates.push(!1),e.pause(),e.currentTime=0,e.style.visibility="hidden",e.style.opacity="0",e.addEventListener("loadstart",(()=>this.resetReadyStates())),e.addEventListener("canplay",(()=>{this.readyStates[t]=!0,this.checkAndPlay()})),setTimeout((()=>{this.readyStates[t]||(this.readyStates[t]=!0,this.checkAndPlay())}),5e3)}addCaption(e,t,n){const i=e.getAttribute("uevc-caption");if(i){const o=document.createElement("span");o.textContent=i,o.classList.add("uevc-caption"),n&&o.classList.add(n),t.appendChild(o),this.captions.push(o);new MutationObserver((t=>{t.forEach((t=>{if("attributes"===t.type&&"uevc-caption"===t.attributeName){const t=e.getAttribute("uevc-caption");o.textContent=t}}))})).observe(e,{attributes:!0,attributeFilter:["uevc-caption"]})}}addVideoWithWrapper(e,t){const n=document.createElement("div");e.parentNode.insertBefore(n,e),n.appendChild(e),this.addVideo(e),this.wrappers.push(n),n.classList.add("video-wrapper"),this.addCaption(e,n,t)}resetReadyStates(){this.readyStates.fill(!1),this.videos.forEach((e=>e.pause())),this.videos.forEach((e=>e.currentTime=0)),this.loadingElement.style.display="block",this.loadingInterval||(this.loadingInterval=setInterval((()=>this.animateLoading()),500))}checkAndPlay(){this.readyStates.every((e=>e))&&(this.videos.forEach((e=>{e.style.visibility="visible",e.style.opacity="1"})),this.captions.forEach((e=>{e.style.visibility="visible",e.style.opacity="1"})),this.loadingElement.style.display="none",clearInterval(this.loadingInterval),this.loadingInterval=null,"auto"===this.playMode&&(this.viewportPause&&!this.isIntersecting||this.videos.forEach((e=>e.play()))))}setupViewportObserver(){if(this.viewportObserverSetup)return;if(this.viewportObserverSetup=!0,!window.IntersectionObserver)return;new IntersectionObserver((e=>{e.forEach((e=>{this.isIntersecting=e.isIntersecting,this.viewportPause&&(this.isIntersecting?("auto"===this.playMode||"interaction"===this.playMode&&this.hasInteracted)&&this.videos.forEach((e=>e.play())):this.videos.forEach((e=>e.pause())))}))}),{threshold:0}).observe(this.container)}setupPlayMode(){if(!this.playModeSetup)if(this.playModeSetup=!0,"interaction"===this.playMode){const e=()=>{this.hasInteracted||(this.hasInteracted=!0,this.videos.forEach((e=>e.play())),this.container.removeEventListener("mouseenter",e),this.container.removeEventListener("touchstart",e),this.container.removeEventListener("click",e))};this.container.addEventListener("mouseenter",e),this.container.addEventListener("touchstart",e,{passive:!0}),this.container.addEventListener("click",e)}else if("manual"===this.playMode){const e=()=>{this.videos.forEach((e=>e.play()))},t=()=>{this.videos.forEach((e=>e.pause()))};this.container.addEventListener("mouseenter",e),this.container.addEventListener("mouseleave",t),this.container.addEventListener("touchstart",e,{passive:!0}),this.container.addEventListener("touchend",t,{passive:!0})}}syncVideos(e=0){const t=this.videos[e];t.addEventListener("play",(()=>{this.videos.forEach(((t,n)=>{n!==e&&t.paused&&t.play()}))})),t.addEventListener("pause",(()=>{this.videos.forEach(((t,n)=>{n===e||t.paused||t.pause()}))})),t.addEventListener("seeking",(()=>{this.videos.forEach(((n,i)=>{i!==e&&(n.currentTime=t.currentTime)}))})),t.addEventListener("timeupdate",(()=>{this.videos.forEach(((n,i)=>{i!==e&&Math.abs(n.currentTime-t.currentTime)>.1&&(n.currentTime=t.currentTime)}))}))}}class i extends n{constructor(e){super(e);const t=e.getElementsByTagName("video")[1],n=e.getElementsByTagName("video")[0];this.addVideoWithWrapper(t,"ue-after"),this.addVideoWithWrapper(n,"ue-before"),this.setupWiper(),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver()}setupWiper(){const e=this.videos[0],t=this.videos[1],n=this.wrappers[0],i=this.wrappers[1],o=document.createElement("div");o.classList.add("uevc-wiper-clipper-outer");const s=document.createElement("div");s.classList.add("uevc-wiper-clipper"),o.appendChild(s),i.parentNode.insertBefore(o,i),s.appendChild(i),this.video2Clipped=!0,this.animationTriggered=!1;const a=parseFloat(this.container.getAttribute("data-duration"))||1;e.addEventListener("loadedmetadata",(()=>{this.container.style.aspectRatio=e.videoWidth/e.videoHeight+" / 1"})),e.addEventListener("timeupdate",(()=>{!this.animationTriggered&&t.currentTime>a&&(console.log("triggering animation"),requestAnimationFrame((()=>{o.style.backgroundColor="white"})),o.getBoundingClientRect(),this.startAnimation(o),this.startAnimation(s),this.animationTriggered=!0)})),e.addEventListener("seeked",(()=>{if(e.currentTime<a){if(this.animationTriggered=!1,s.style.clipPath=null,o.style.clipPath=null,this.video2Clipped){const e=n;n.parentNode.insertBefore(i,n),s.appendChild(e)}else{const e=i;i.parentNode.insertBefore(n,i),s.appendChild(e)}this.video2Clipped=!this.video2Clipped,requestAnimationFrame((()=>{o.style.backgroundColor=null}))}})),e.addEventListener("loadstart",(()=>{if(this.animationTriggered=!1,s.style.clipPath=null,o.style.clipPath=null,t.parentNode===this.videoContainer){const e=i;i.parentNode.insertBefore(n,i),s.appendChild(e),this.video2Clipped=!0,this.animationTriggered=!1}}))}startAnimation(e){const t=Date.now(),n=parseInt(this.container.getAttribute("data-transition-duration"))||1e3,i=()=>{const o=Date.now()-t,s=Math.min(1,o/n),a=`polygon(\n                0% ${200-200*s+.1}%,\n                ${200-200*s+.1}% 0%,\n                0% 0%\n            )`;e.style.clipPath=a,s<1&&requestAnimationFrame(i)};requestAnimationFrame(i)}}class o extends n{constructor(e){super(e);const t=e.getElementsByTagName("video")[1],n=e.getElementsByTagName("video")[0];this.addVideoWithWrapper(t,"ue-after"),this.addVideoWithWrapper(n,"ue-before"),this.setupSlider(),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver()}setupSlider(){const e=this.wrappers[1],t=document.createElement("div");t.classList.add("uevc-slider-clipper"),e.parentNode.insertBefore(t,e),t.appendChild(e);const n=this.videos[0];n.addEventListener("loadedmetadata",(()=>{this.container.style.aspectRatio=n.videoWidth/n.videoHeight+" / 1"}));const i=this.container.getAttribute("data-trigger"),o=this.container.getAttribute("data-direction"),s=this.container.getAttribute("data-handle-type");"vertical"===o&&this.container.classList.add("vertical");const a=document.createElement("span");a.classList.add("uevc-slider-line"),this.container.appendChild(a);let r=null;if(s){if(r=document.createElement("div"),r.classList.add("uevc-handle",s),"arrows"===s){const e=document.createElement("span");e.classList.add("uevc-arrow-left");const t=document.createElement("span");t.classList.add("uevc-arrow-right"),r.appendChild(e),r.appendChild(t)}else if("icon"===s){const e=this.container.querySelector(".uevc-handle-icon");e&&r.appendChild(e)}this.container.appendChild(r)}const d=n=>{n=Math.max(0,Math.min(100,n)),"vertical"===o?(t.style.height=n+"%",e.style.height=(0===n?100:100/n*100)+"%",a.style.top=n+"%",r&&(r.style.top=n+"%")):(t.style.width=n+"%",e.style.width=(0===n?100:100/n*100)+"%",a.style.left=n+"%",r&&(r.style.left=n+"%"))},c=parseFloat(this.container.getAttribute("data-initial"))||50;d(c);const l=e=>{const t=this.container.getBoundingClientRect(),n=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY;let s;s="vertical"===o?(i-t.top)/this.container.offsetHeight*100:(n-t.left)/this.container.offsetWidth*100,d(s)};if("click"===i){const e=e=>{e.preventDefault(),l(e)},t=()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};this.container.addEventListener("mousedown",(n=>{n.preventDefault(),l(n),window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)}))}else this.container.addEventListener("mousemove",l,!1),this.container.addEventListener("touchstart",(e=>{e.preventDefault(),l(e)}),{passive:!1}),this.container.addEventListener("touchmove",(e=>{e.preventDefault(),l(e)}),{passive:!1});"click"===i&&(this.container.addEventListener("touchstart",(e=>{e.preventDefault(),l(e)}),{passive:!1}),this.container.addEventListener("touchmove",(e=>{e.preventDefault(),l(e)}),{passive:!1}))}}class s extends o{constructor(e){super(e);const t=e.getElementsByTagName("video")[2];this.addVideo(t),this.addCaption(t,this.wrappers[0],"ue-overlay"),this.wrappers[0].appendChild(t),t.style.width="20%",t.style.height="20%",t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.zIndex="4",this.syncVideos(0)}}class a extends n{constructor(e){super(e);const t=e.getElementsByTagName("video")[0],n=e.getElementsByTagName("video")[1];this.initialize(t,n)}initialize(e,t){this.addVideoWithWrapper(e,"ue-before"),this.addVideoWithWrapper(t,"ue-after"),this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver(),e.addEventListener("loadedmetadata",(()=>{this.container.style.aspectRatio=2*e.videoWidth/e.videoHeight+" / 1"}))}}class r extends n{constructor(e){super(e);const t=e.getElementsByTagName("video");this.initialize(t)}initialize(e){for(const t of e)this.addVideoWithWrapper(t);this.syncVideos(0),this.setupPlayMode(),this.setupViewportObserver(),e[0].addEventListener("loadedmetadata",(()=>{this.container.style.aspectRatio=2*e[0].videoWidth/(2*e[0].videoHeight)+" / 1"}))}}function d(){const e=()=>{const e=document.getElementsByClassName("uevc-slider-container");for(let t=0;t<e.length;t++){const n=e[t];n&&new o(n)}const t=document.getElementsByClassName("uevc-wiper-container");for(let e=0;e<t.length;e++){const n=t[e];n&&new i(n)}const n=document.getElementsByClassName("uevc-side-by-side-container");for(let e=0;e<n.length;e++){const t=n[e];t&&new a(t)}const d=document.getElementsByClassName("uevc-three-video-comparison-container");for(let e=0;e<d.length;e++){const t=d[e];t&&new s(t)}const c=document.getElementsByClassName("uevc-four-grid-container");for(let e=0;e<c.length;e++){const t=c[e];t&&new r(t)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}return d(),d}();
